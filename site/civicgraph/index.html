<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Project - Civic Graph - Microsoft Cities NY </br> Civic Tech Fellows Guide</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Project - Civic Graph";
    var mkdocs_page_input_path = "civicgraph.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Microsoft Cities NY </br> Civic Tech Fellows Guide</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../starthere/">Good To Know</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../onboarding/">Start Here - Onboarding</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../about/">About Microsoft Cities</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../subs/">Subscriptions</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../intelligentkiosk/">Intelligent Kiosk</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Project - Civic Graph</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#what-is-civic-graph">What is Civic Graph?</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#technical-breakdown">Technical Breakdown</a></li>
        
            <li><a class="toctree-l3" href="#local-environment-setup">Local Environment Setup</a></li>
        
            <li><a class="toctree-l3" href="#troubleshooting">Troubleshooting</a></li>
        
            <li><a class="toctree-l3" href="#further-technical-support">Further Technical Support</a></li>
        
            <li><a class="toctree-l3" href="#sql-database">SQL Database</a></li>
        
            <li><a class="toctree-l3" href="#registrar">Registrar</a></li>
        
            <li><a class="toctree-l3" href="#ssl-certificate">SSL Certificate</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../tja/">Project - Tech Jobs Academy</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Microsoft Cities NY </br> Civic Tech Fellows Guide</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Project - Civic Graph</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="what-is-civic-graph">What is Civic Graph?</h1>
<p>Civic Graph shows who’s who and what’s what in the growing field of civic technology. It is an open source, crowd-sourced knowledge base and data visualization project. It aims to map the civic tech community players and connections -- their types, locations and levels of influence in an interactive, intuitive, and modern way.</p>
<h2 id="technical-breakdown">Technical Breakdown</h2>
<p>Civic Graph is built in three parts:</p>
<ol>
<li>
<p><a href="#civic-graph-ui">Civic-Graph-UI: Angular.js (v1) and D3.js</a> - <a href="https://github.com/MicrosoftTCE/civic-graph-UI">https://github.com/MicrosoftTCE/civic-graph-UI</a></p>
</li>
<li>
<p><a href="#civic-graph-api">Civic-Graph-API: Python (v3)</a> - <a href="https://github.com/MicrosoftTCE/civic-graph-API">https://github.com/MicrosoftTCE/civic-graph-API</a></p>
</li>
<li>
<p><a href="#azure-hosting">Azure hosting</a></p>
</li>
</ol>
<h3 id="civic-graph-ui">Civic Graph UI</h3>
<p>The <strong>UI</strong> front-end is built with Angular.js (v1) and D3.js for the network graph visualization. <a href="http://civicgraph.io/">Civic Graph</a> graph nodes represent entities, which could consist of people or organizations involved in the field of civic technology. The links among the entities represent the types of relationships or connections these entities share.</p>
<p>Filtering options provide a unique method for visualizing certain aspects of the civic technology space.</p>
<table>
<thead>
<tr>
<th>Type of Entities</th>
<th>Color Representation</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>For-Profit</code></td>
<td><code>Green</code></td>
</tr>
<tr>
<td><code>Non-Profit</code></td>
<td><code>Blue</code></td>
</tr>
<tr>
<td><code>Government</code></td>
<td><code>Red</code></td>
</tr>
<tr>
<td><code>Individuals</code></td>
<td><code>Orange</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Type of Connections</th>
<th>Color Representation</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Funding</code></td>
<td><code>Red</code></td>
</tr>
<tr>
<td><code>Data</code></td>
<td><code>Blue</code></td>
</tr>
<tr>
<td><code>Employment</code></td>
<td><code>Purple</code></td>
</tr>
<tr>
<td><code>Collaboration</code></td>
<td><code>Orange</code></td>
</tr>
</tbody>
</table>
<h3 id="civic-graph-api">Civic Graph API</h3>
<p>The <strong>API</strong> back-end is built with Python and serves information from a SQL database. </p>
<p>API links:
- <a href="http://api.civicgraph.io/api/entities">http://api.civicgraph.io/api/entities</a>
- <a href="http://api.civicgraph.io/api/connections">http://api.civicgraph.io/api/connections</a>
- <a href="http://api.civicgraph.io/api/categories">http://api.civicgraph.io/api/categories</a></p>
<h3 id="azure-hosting">Azure Hosting</h3>
<p>The fullstack application is hosted on <strong>Azure cloud</strong>. Our services are listed under the Civic-Graph resources froup.</p>
<h2 id="local-environment-setup">Local Environment Setup</h2>
<h3 id="ui-setup"><em>UI setup</em></h3>
<p><em>Most updated instructions can be found on the Civic Graph UI Github repo: <a href="https://github.com/MicrosoftTCE/civic-graph-UI">https://github.com/MicrosoftTCE/civic-graph-UI</a></em></p>
<p>All changes made to setup instructions should be made in the Github repo.</p>
<h3 id="api-setup"><em>API setup</em></h3>
<p><em>Most updated instructions can be found on the Civic Graph API Github repo: <a href="https://github.com/MicrosoftTCE/civic-graph-API">https://github.com/MicrosoftTCE/civic-graph-API</a></em></p>
<p>All changes made to setup instructions should be made in the Github repo.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<p>What happens when something breaks in Civic Graph? The following are best practices and suggested steps as per previous experience.</p>
<p>Our services are hosted in the "South Central US" datacenters. This is automatically assigned and as far as we know, based on answers from Azure technical support, there is no way to change this.</p>
<p>Very rarely does Azure go down but checking the Azure status page is a simple first step to take in case there is an issue with Azure. Link: <a href="https://azure.microsoft.com/en-us/status/">https://azure.microsoft.com/en-us/status/</a></p>
<h4 id="diagnose">Diagnose:</h4>
<p>If Azure status is all good, begin diagnosis. Is this a UI issue or an API issue?</p>
<p>UI issues include position of elements being off, text displayed incorrectly, etc.</p>
<p>API issues include data on graph not appearing or graph not appearing at all.</p>
<p>UI issues can be tied into API issues. For example, if the graph keeps loading and does not display any content, this is an API issue with failure to render on the UI.</p>
<h4 id="ui-issue">UI issue</h4>
<p>If the issue is with the UI:</p>
<ol>
<li>Checkout master branch for the UI repo and create a new git branch with the name of the issue</li>
<li>Serve the app locally and try to replicate the UI problem on your local environment</li>
<li>Test any proposed changes to fix the problem locally</li>
<li>Once you're satisfied with the changes, commit and push them to your new branch</li>
<li>Create a Pull Request to merge into Master and have it reviewed to merge into az-prod branch</li>
</ol>
<h4 id="api-issue">API issue</h4>
<p>To check for an API issue, inspect the page using Google Chrome Developer Tools. If there are any red warnings, click on them to review.</p>
<p>Usually, API issues are related to the API code breaking, database not updating, or a break in the link to the API. Check the API links above to see if any return an error. </p>
<p>To diagnose an API issue further, you want to go to Azure portal and check the logs as follows:</p>
<ol>
<li>Go to <strong>Resources</strong> &gt; <strong>Civic-Graph</strong> or <a href="https://portal.azure.com/#@civicmachineoutlook.onmicrosoft.com/resource/subscriptions/d6b238db-2ea5-4c4b-8a39-401d161baddf/resourceGroups/Civic-Graph/overview">Link</a></li>
<li>Click into the <strong>Civic-Graph-API</strong> Web service</li>
<li>On the left sidebar, select <strong>Diagnose and solve problems</strong></li>
<li>Search for "failed request tracing logs"</li>
<li>Select the most recent log with a failed status code of <em>400</em> or <em>500</em></li>
</ol>
<p>Read through the trace log and see if there is a line that the API is failing at. You will need to go through the API source code and find that line to start applying a fix.</p>
<h2 id="further-technical-support">Further Technical Support</h2>
<p>If you still need help diagnosing a problem and you have searched through all available (online) resources, you can open a support ticket via Azure for Azure technical support to assist. Your mileage may vary with how far someone will go to help you and you can always submit more than one ticket if you don't feel the issue has been resolved. Make sure to note everything you have tried so far.</p>
<h2 id="sql-database">SQL Database</h2>
<p>The database for Civic Graph API is hosted on ClearDB. It would be best to host under Azure DB instead but this has sufficed for now.</p>
<p>Credentials for the database via ClearDB can be accessed via LastPass.</p>
<h2 id="registrar">Registrar</h2>
<p>This project is registered under Namecheap. Credentials to access Namecheap are available via LastPass.</p>
<h2 id="ssl-certificate">SSL Certificate</h2>
<p>An SSL certificate is available via Azure portal for this web app.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../tja/" class="btn btn-neutral float-right" title="Project - Tech Jobs Academy">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../intelligentkiosk/" class="btn btn-neutral" title="Intelligent Kiosk"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../intelligentkiosk/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../tja/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
